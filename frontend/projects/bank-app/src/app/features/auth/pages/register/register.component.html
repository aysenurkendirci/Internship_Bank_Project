<div class="page">
  <div class="card">
    <div class="header-section">
      <h1>Kayıt Ol</h1>
      <p>NeoBank hesabınızı oluşturun.</p>
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()" class="form">
      <div class="row2">
        <lib-input label="Ad" placeholder="Adınız" [control]="form.controls.firstName"></lib-input>
        <lib-input label="Soyad" placeholder="Soyadınız" [control]="form.controls.lastName"></lib-input>
      </div>

      <lib-input label="T.C. Kimlik No" placeholder="11 haneli" [control]="form.controls.tcNo"></lib-input>
      <lib-input label="E-Posta" placeholder="ornek@mail.com" [control]="form.controls.email"></lib-input>
      <lib-input label="Telefon" placeholder="05xx..." [control]="form.controls.phone"></lib-input>
      <lib-input label="Şifre" type="password" placeholder="••••••••" [control]="form.controls.password"></lib-input>

      <div class="membership-toggle">
        <label class="label-hint">Üyelik Tipi</label>
        <div class="seg">
          <button type="button" class="seg-btn"
            [class.active]="form.controls.membership.value === 'Personal'"
            (click)="setMembership('Personal')">Bireysel</button>

          <button type="button" class="seg-btn" 
            [class.active]="form.controls.membership.value === 'Corporate'"
            (click)="setMembership('Corporate')">Kurumsal</button>
        </div>
      </div>

      <div class="err-container" *ngIf="error">
        <span class="err-text">{{ error }}</span>
      </div>

      <lib-button 
        type="submit" 
        [disabled]="loading || form.invalid"
        (click)="form.valid ? submit() : null">
        {{ loading ? 'Hesap Oluşturuluyor...' : 'KAYIT OL' }}
      </lib-button>

      <div class="footer">
        <span>Zaten hesabın var mı?</span>
        <a routerLink="/auth/login" class="login-link">Giriş Yap</a>
      </div>
    </form>
  </div>
</div>